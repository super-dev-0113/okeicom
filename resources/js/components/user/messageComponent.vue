<template>
	<div class="l-message--inner">
        <!-- サイドバー -->
        <div class="message-sidebar pc-only">
            <div class="message-sidebar-list">
                <div class="message-sidebar-list-box" v-for="i in 10">
                    <div class="l-flex l-v__center">
                        <div class="u-w50">
                            <div class="message-sidebar-list-box-img">
                                <div class="c-img--cover">
                                    <img src="/img/common/screen-top.jpg">
                                </div>
                            </div>
                        </div>
                        <div class="u-wflex1">
                            <p class="u-color--red u-text--small u-mt5">未読</p>
                            <p>名前名前名前</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- メイン -->
        <div class="message-header l-flex l-start">
            <div class="message-header-back sp-only">
                <a href="">
                    <img src="/img/common/icon-arrow-left-blue.png">
                </a>
            </div>
            <div class="message-header-img pc-only">
                <div class="c-img--cover c-img--round">
                    <img src="/img/common/screen-top.jpg">
                </div>
            </div>
            <p class="u-text--big">名前名前名前名前</p>
        </div>
        <div class="message-body">
            <div class="message-body-block"><p class="message-body-date">2020/12/03</p></div>
            <div class="message-body-block">
                <div class="l-flex">
                    <div class="message-body-img">
                        <div class="c-img--cover c-img--round">
                            <img src="/img/common/screen-top.jpg">
                        </div>
                    </div>
                    <div class="message-body-text">
                        <p class="name">
                            <a href="" class="u-text--link">田中</a>
                        </p>
                        <p class="body">ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ</p>
                    </div>
                    <div class="message-body-time">
                        <span class="u-color--gray u-text--small">11:32</span>
                    </div>
                </div>
            </div>
            <div class="message-body-block">
                <div class="l-flex">
                    <div class="message-body-img">
                        <div class="c-img--cover c-img--round">
                            <img src="/img/common/screen-top.jpg">
                        </div>
                    </div>
                    <div class="message-body-text">
                        <p class="name">
                            <a href="" class="u-text--link">田中</a>
                        </p>
                        <p class="body">ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ</p>
                    </div>
                    <div class="message-body-time">
                        <span class="u-color--gray u-text--small">11:32</span>
                    </div>
                </div>
            </div>
            <div class="message-body-block">
                <div class="l-flex">
                    <div class="message-body-img">
                        <div class="c-img--cover c-img--round">
                            <img src="/img/common/screen-top.jpg">
                        </div>
                    </div>
                    <div class="message-body-text">
                        <p class="name">
                            <a href="" class="u-text--link">田中</a>
                        </p>
                        <p class="body">ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ</p>
                    </div>
                    <div class="message-body-time">
                        <span class="u-color--gray u-text--small">11:32</span>
                    </div>
                </div>
            </div>
            <div class="message-body-block">
                <div class="l-flex">
                    <div class="message-body-img">
                        <div class="c-img--cover c-img--round">
                            <img src="/img/common/screen-top.jpg">
                        </div>
                    </div>
                    <div class="message-body-text">
                        <p class="name">
                            <a href="" class="u-text--link">田中</a>
                        </p>
                        <p class="body">ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ</p>
                    </div>
                    <div class="message-body-time">
                        <span class="u-color--gray u-text--small">11:32</span>
                    </div>
                </div>
            </div>
            <div class="message-body-block">
                <div class="l-flex">
                    <div class="message-body-img">
                        <div class="c-img--cover c-img--round">
                            <img src="/img/common/screen-top.jpg">
                        </div>
                    </div>
                    <div class="message-body-text">
                        <p class="name">
                            <a href="" class="u-text--link">田中</a>
                        </p>
                        <p class="body">ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ</p>
                    </div>
                    <div class="message-body-time">
                        <span class="u-color--gray u-text--small">11:32</span>
                    </div>
                </div>
            </div>
            <div class="message-body-block"><p class="message-body-date">2020/12/04</p></div>
            <div class="message-body-block">
                <div class="l-flex">
                    <div class="message-body-img">
                        <div class="c-img--cover c-img--round">
                            <img src="/img/common/screen-top.jpg">
                        </div>
                    </div>
                    <div class="message-body-text">
                        <p class="name">
                            <a href="" class="u-text--link">田中</a>
                        </p>
                        <p class="body">ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ</p>
                    </div>
                    <div class="message-body-time">
                        <span class="u-color--gray u-text--small">11:32</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="message-input">
            <div class="message-input-inner">
                <div class="message-input-area">
                    <textarea placeholder="メッセージを入力してください"></textarea>
                </div>
                <div class="message-input-other l-flex">
                    <div class="message-input-img l-flex">
                        <div class="message-input-img-box c-img--cover" v-for="(i, index) in messageFiles" :key="index">
                            <img :src="messageFiles[index].file">
                            <span class="deleteButton" @click="deleteFile(index)"></span>
                        </div>
                    </div>
                    <div class="message-input-icon l-flex">
                        <span class="file">
                            <img src="/img/common/icon-message-file.png">
                            <input type="file" ref="preview" name="" @change="uploadFile">
                        </span>
                        <span class="submit">
                            <img src="/img/common/icon-message-send.png">
                            <input type="submit" name="">
                        </span>
                    </div>
                </div>
            </div>
        </div>
	</div>
</template>
<script>
	export default {
        components: {
        },
		data() {
			return {
				messageFiles: [],
			}
		},
		created: function() {
			// 必要に応じて、初期表示時に使用するLaravelのAPIを呼び出すメソッドを定義

		},
		computed: {},
		methods: {

			uploadFile: function() {
				// 取得した画像ファイルのURLを取得
				let file = this.$refs.preview.files[0]
				this.url = URL.createObjectURL(file)
				// 配列に画像を追加
				this.messageFiles.push({file: this.url})
			},
			deleteFile: function(index) {
				this.messageFiles.splice(index, 1)
			},
		},
		watch: {},
	}
</script>
